<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Clangc - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-default_code_complete_options">::default_code_complete_options</a>
    
    <li ><a href="#method-c-default_diagnostic_display_options">::default_diagnostic_display_options</a>
    
    <li ><a href="#method-c-default_editing_translation_unit_options">::default_editing_translation_unit_options</a>
    
    <li ><a href="#method-c-null_cursor">::null_cursor</a>
    
    <li ><a href="#method-c-null_source_location">::null_source_location</a>
    
    <li ><a href="#method-c-null_source_range">::null_source_range</a>
    
    <li ><a href="#method-c-range">::range</a>
    
    <li ><a href="#method-c-version">::version</a>
    
    <li ><a href="#method-c-visit_children">::visit_children</a>
    
    <li ><a href="#method-c-visit_children_with_block">::visit_children_with_block</a>
    
    <li ><a href="#method-c-visit_children_with_proc">::visit_children_with_proc</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Clangc">
  <h1 id="module-Clangc" class="module">
    module Clangc
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-default_code_complete_options" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            default_code_complete_options &rarr; Fixnum
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns a default set of code-completion options that can be passed to
Clangc::TranslationUnit#codeCompleteAt.  This set is be bitwise-OR&#39;d
constants of the Clangc::CodeComplete_Flags</p>
          
          

          
          <div class="method-source-code" id="default_code_complete_options-source">
            <pre>VALUE
m_clangc_get_default_code_complete_options(VALUE self)
{
  return CUINT_2_NUM(clang_defaultCodeCompleteOptions());
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-default_diagnostic_display_options" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            default_diagnostic_display_options &rarr; Fixnum
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieve the set of display options most similar to the default behavior of
the clang compiler.</p>

<p>A set of display options suitable for use with <a
href="Clangc/Diagnostic.html#method-i-format">Clangc::Diagnostic#format</a></p>
          
          

          
          <div class="method-source-code" id="default_diagnostic_display_options-source">
            <pre>VALUE
m_clangc_get_default_diagnostic_display_options(VALUE self)
{
  return CUINT_2_NUM(clang_defaultDiagnosticDisplayOptions());
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-default_editing_translation_unit_options" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            default_editing_translation_unit_options &rarr; Fixnum
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns the set of flags that is suitable for parsing a translation unit
that is being edited. (Clangc::TranslationUnit_Flags constants)</p>

<p>The set of flags returned provide options for
Clangc::Index#parseTranslationUnit to indicate that the translation unit is
likely to be reparsed many times, either explicitly (via
Clangc::TranslationUnit#reparse) or implicitly (e.g., by code completion (
Clangc::TranslationUnit#CodeCompleteAt). The returned flag set contains an
unspecified set of optimizations (e.g., the precompiled  preamble) geared
toward improving the performance of these routines. The set of
optimizations enabled may change from one version to the next.</p>
          
          

          
          <div class="method-source-code" id="default_editing_translation_unit_options-source">
            <pre>VALUE
m_clangc_get_default_editing_translation_unit_options(VALUE self)
{
  return CUINT_2_NUM(clang_defaultEditingTranslationUnitOptions());
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-null_cursor" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            null_cursor
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieve a NULL cursor which represents no entity</p>
          
          

          
          <div class="method-source-code" id="null_cursor-source">
            <pre>VALUE
m_clangc_get_null_cursor(VALUE self)
{
  Cursor_t *c;
  VALUE a_cursor;
  R_GET_CLASS_DATA(&quot;Clangc&quot;, Cursor, a_cursor, c);
  c-&gt;data = clang_getNullCursor();
  return a_cursor;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-null_source_location" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            null_source_location
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieve a NULL (invalid) source location.</p>
          
          

          
          <div class="method-source-code" id="null_source_location-source">
            <pre>VALUE
m_clangc_get_null_source_location(VALUE self)
{
  SourceLocation_t *s;
  VALUE a_source_location;
  R_GET_CLASS_DATA(&quot;Clangc&quot;, SourceLocation, a_source_location, s);
  s-&gt;data = clang_getNullLocation();
  return a_source_location;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-null_source_range" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            null_source_range
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieve a NULL (invalid) source range</p>
          
          

          
          <div class="method-source-code" id="null_source_range-source">
            <pre>VALUE
m_clangc_get_null_source_range(VALUE self)
{
  SourceRange_t *s;
  VALUE a_source_range;
  R_GET_CLASS_DATA(&quot;Clangc&quot;, SourceRange, a_source_range, s);
  s-&gt;data = clang_getNullRange();
  return a_source_range;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-range" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            range(Clangc::SourceLocation, Clangc::SourceLocation) &rarr; Clangc::SourceRange
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieve a source range given the beginning and ending source locations.</p>
          
          

          
          <div class="method-source-code" id="range-source">
            <pre>VALUE
m_clangc_get_range(VALUE self, VALUE begin, VALUE end)
{
  CHECK_ARG_TYPE(begin, SourceLocation);
  CHECK_ARG_TYPE(end, SourceLocation);
  
  SourceLocation_t *b;
  SourceLocation_t *e;
  Data_Get_Struct(begin, SourceLocation_t, b);
  Data_Get_Struct(end, SourceLocation_t, e);
  // TODO Should I add a check to see if they come from the same 
  // file / TU
  VALUE range;
  SourceRange_t *s;
  R_GET_CLASS_DATA(&quot;Clangc&quot;, SourceRange, range, s);

  s-&gt;data =  clang_getRange(b-&gt;data, e-&gt;data);
  
  // We use the parent of the first parameter (no real reason)
  SourceRange_t *p;
  Data_Get_Struct(b-&gt;parent, SourceRange_t, p);
  s-&gt;parent = p-&gt;parent;

  return range;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-version" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            version &rarr; String
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Return a version string, suitable for showing to a user, but not intended
to be parsed (the format is not guaranteed to be stable).</p>
          
          

          
          <div class="method-source-code" id="version-source">
            <pre>VALUE
m_clangc_get_version(VALUE self)
{
  return CXSTR_2_RVAL(clang_getClangVersion());
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-visit_children" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            visit_children(Hash)
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>This is a convenient method that call <a
href="Clangc.html#method-c-visit_children_with_proc">::visit_children_with_proc</a>
or <a
href="Clangc.html#method-c-visit_children_with_block">::visit_children_with_block</a>.
the Hash arguments can accept two keys:</p>
<ul><li>
<p>cursor</p>
</li><li>
<p>visitor</p>

<pre class="ruby"><span class="ruby-constant">Clangc</span>.<span class="ruby-identifier">visit_children</span>(<span class="ruby-identifier">cursor</span><span class="ruby-operator">:</span> <span class="ruby-identifier">acursor</span>, <span class="ruby-identifier">visitor</span><span class="ruby-operator">:</span> <span class="ruby-identifier">aproc</span>)

<span class="ruby-constant">Clangc</span>.<span class="ruby-identifier">visit_children</span>(<span class="ruby-identifier">cursor</span><span class="ruby-operator">:</span> <span class="ruby-identifier">acursor</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cursor</span>, <span class="ruby-identifier">parent</span><span class="ruby-operator">|</span>
  <span class="ruby-comment">#do your stuf</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Clangc</span><span class="ruby-operator">::</span><span class="ruby-constant">ChildVisitResult</span><span class="ruby-operator">::</span><span class="ruby-constant">Recurse</span>
  <span class="ruby-comment">#return Clangc::ChildVisitResult::Break</span>
<span class="ruby-keyword">end</span>
</pre>
</li></ul>
          
          

          
          <div class="method-source-code" id="visit_children-source">
            <pre><span class="ruby-comment"># File lib/clangc.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visit_children</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">cursor</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">:cursor</span>]
  <span class="ruby-identifier">callback</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">:visitor</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span>(<span class="ruby-identifier">callback</span>)
    <span class="ruby-identifier">visit_children_with_proc</span>(<span class="ruby-identifier">cursor</span>, <span class="ruby-identifier">callback</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">visit_children_with_block</span>(<span class="ruby-identifier">cursor</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cursor</span>, <span class="ruby-identifier">parent</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">cursor</span>, <span class="ruby-identifier">parent</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-visit_children_with_block" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            visit_children_with_block(cursor) &rarr; Qtrue/ Qfalse
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Visit the children of a particular cursor.</p>

<p>This function visits all the direct children of the given cursor, invoking
the block with the cursors of each visited child. The traversal may be
recursive, if the visitor returns Clangc::ChildVisitResult::Recurse. The
traversal may also be ended prematurely, if the visitor returns
Clangc::ChildVisit::Break.</p>

<p>cursor the cursor whose child may be visited. All kinds of cursors can be
visited, including invalid cursors (which, by definition, have no
children).</p>

<p>visitor the visitor function that will be invoked for each child of cursor.</p>

<p>returns a true if the traversal was terminated prematurely by the visitor
returning Clangc::ChildVisitiResult::Break.</p>

<p>You should prefer to use :</p>

<pre class="ruby"><span class="ruby-constant">Clangc</span>.<span class="ruby-identifier">visit_children</span>(<span class="ruby-identifier">cursor</span><span class="ruby-operator">:</span> <span class="ruby-identifier">cursor</span>, <span class="ruby-identifier">visitor</span><span class="ruby-operator">:</span> <span class="ruby-identifier">callback</span>)
</pre>
          
          

          
          <div class="method-source-code" id="visit_children_with_block-source">
            <pre>VALUE
m_clangc_visit_children_with_block(VALUE self, VALUE cursor)
{
  if(rb_block_given_p() == 0)
      rb_raise(rb_eTypeError, &quot;Need a block&quot;);

  VALUE callback = rb_block_proc();

  Cursor_t *c;
  Data_Get_Struct(cursor, Cursor_t, c);
  unsigned ret_with_break = clang_visitChildren(c-&gt;data,
                                                visitor,
                                                (CXClientData) callback);
  return NOT_0_2_RVAL(ret_with_break);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-visit_children_with_proc" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            visit_children_with_proc(cursor, visitor) &rarr; Qtrue/ Qfalse
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Visit the children of a particular cursor.</p>

<p>This function visits all the direct children of the given cursor, invoking
the given visitor Proc with the cursors of each visited child. The
traversal may be recursive, if the visitor returns
Clangc::ChildVisitResult::Recurse. The traversal may also be ended
prematurely, if the visitor returns Clangc::ChildVisit::Break.</p>

<p>cursor the cursor whose child may be visited. All kinds of cursors can be
visited, including invalid cursors (which, by definition, have no
children).</p>

<p>visitor the visitor function that will be invoked for each child of cursor.</p>

<p>returns a true if the traversal was terminated prematurely by the visitor
returning Clangc::ChildVisitiResult::Break.</p>

<p>You should prefer to use :</p>

<pre class="ruby"><span class="ruby-constant">Clangc</span>.<span class="ruby-identifier">visit_children</span>(<span class="ruby-identifier">cursor</span><span class="ruby-operator">:</span> <span class="ruby-identifier">cursor</span>, <span class="ruby-identifier">visitor</span><span class="ruby-operator">:</span> <span class="ruby-identifier">callback</span>)
</pre>
          
          

          
          <div class="method-source-code" id="visit_children_with_proc-source">
            <pre>VALUE
m_clangc_visit_children_with_proc(VALUE self, VALUE cursor, VALUE aproc)
{
  if (rb_class_of(aproc) != rb_cProc)
    rb_raise(rb_eTypeError, &quot;Need a block&quot;);

  VALUE callback = aproc;

  Cursor_t *c;
  Data_Get_Struct(cursor, Cursor_t, c);
  unsigned ret_with_break = clang_visitChildren(c-&gt;data,
                                                visitor,
                                                (CXClientData) callback);
  return NOT_0_2_RVAL(ret_with_break);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

